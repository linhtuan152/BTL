<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="src/leaflet.css">
    <link rel="stylesheet" href="src/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="src/css/mycss.css">
    <script src="src/leaflet.js"></script>
    <script src="src/jquery-3.2.0.min.js"></script>
    <script src="data/vietnam.geojson"></script>
    <title>Leaflet</title>
    <style>
        #map123 {
            height: 100vh;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="title">
            <h1><p>tiêu đề</p></h1>
        </div>
        <div class="row">
            <div class="col-md-3">
                <div id="content">

                </div>
            </div>
            <div class="col-md-9">
                <div id="map123"></div>
            </div>
        </div>
    </div>
    <script>
        var mymap;
        var lyrOSM;
        $(document).ready(function () {
            //Tao va add Map from JSON
            mymap = L.map('map123',{center:[20.51,106.40],zoom:8,crs: L.CRS.EPSG4326});
            // lyrOSM = L.geoJson(vietnam);
             //mymap.addLayer(lyrOSM); 
            
            //Tao va add Map from GeoServer
            var wmsLayer= L.tileLayer.wms("http://localhost:8080/geoserver/haiphongN/wms", {
                layers: 'haiphongN:haiphong',
                format: 'image/png'
                // transparent: true
            });
            mymap.addLayer(wmsLayer);

            //Xu ly su kien Click tren Map
            var popup = L.popup();
            function onMapClick(e) {
                popup
                .setLatLng(e.latlng)
                .setContent("You clicked the map at " + e.latlng.toString())
                .openOn(mymap);
            }
            mymap.on('click',onMapClick);
             
            //Xu ly su kien Chuot phai tren Map
            var greenIcon = L.icon({
                iconUrl: 'src/images/leaf-green.png',
                shadowUrl: 'scr/images/leaf-shadow.png',

                iconSize:     [38, 95], // size of the icon
                shadowSize:   [50, 64], // size of the shadow
                iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
                shadowAnchor: [4, 62],  // the same for the shadow
                popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
            });

            mymap.on('contextmenu',function(e){
                L.marker(e.latlng,{icon:greenIcon}).addTo(mymap).bindPopup("<b>Hello motherfucker!</b><br>I am Groot.").openPopup();
                L.circle(e.latlng, {
                    color: 'red',
                    fillColor: '#f03',
                    fillOpacity: 0.5,
                    radius: 5000
                }).addTo(mymap);
            });

        });

        
    </script>
</body>

</html>